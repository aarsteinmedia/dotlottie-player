<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8" />
  <title>DotLottie Player Demo</title>
</head>

<body style="font-family: sans-serif; color: white; background-color: darkblue;">
  <div style="margin: 40px auto; width: 80%; max-width: 800px;">
    <h1>DotLottie Player Demo</h1>
    <dotlottie-player
      autoplay
      loop
      src="minihero.lottie"
    ></dotlottie-player>
    <dotlottie-player
      id="player-element"
      controls
      src="/ny-test-av-kombo.lottie"
      simple
    >
    </dotlottie-player>
    <!-- <button onclick="dl()">Kombiner animasjoner, og last ned</button>
    <button onclick="cl()">Konverter animasjoner, og last ned</button> -->
  </div>
  <script src="./webcomponents-loader.js"></script>
  <script src="./polyfill-support.js"></script>
  <script src="./index.js"></script>
</body>
<script>
  const player = document.getElementById('player-element'),
    dl = async () => {
      // if (player) {
      //   await player.addAnimation([
      //     {
      //       id: 'bulb',
      //       url: '/bulb.lottie'
      //     },
      //     {
      //       id: 'dev',
      //       url: '/dev.lottie'
      //     }
      //   ],
      //   'ny-test-av-kombo')
      // }
      if (dotLottiePlayer) {
        await dotLottiePlayer().addAnimation([
          {
            id: 'am',
            url: '/am.lottie'
          },
          {
            id: 'bulb',
            url: '/bulb.lottie'
          },
          {
            id: 'dev',
            url: '/dev.lottie'
          }
        ],
          'test-av-standalone')
      }
    },
    cl = async () => {
      if (dotLottiePlayer) {
        let lottieJSON
        const res = await fetch('/menuAnimation.json')
        if (res.ok) {
          lottieJSON = await res.json()
        }
        await dotLottiePlayer().convert(
          false,
          {
            animations: [
              {id: 'menuAnimation'}
            ]
          },
          [lottieJSON],
          'menuAnimation'
        )
      }
    }
</script>
</html>