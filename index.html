<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8" />
  <title>DotLottie Player Demo</title>
</head>

<body style="font-family: sans-serif; color: white; background-color: darkblue;">
  <div style="margin: 40px auto; width: 80%; max-width: 800px;">
    <h1>DotLottie Player Demo</h1>
    <dotlottie-player
      id="player-element"
      controls
      multiAnimationSettings='[{"speed": 2, "mode": "normal"}, {"autoplay": true, "loop": true, "mode": "bounce"}]'
      src="/assets/ny-test-av-kombo.lottie"
    >
    </dotlottie-player>
    <dotlottie-player
      mode="bounce"
      loop
      autoplay
      src="/assets/am.lottie"
    ></dotlottie-player>
    <!-- <button onclick="dl()">Kombiner animasjoner, og last ned</button>
    <button onclick="cl()">Konverter animasjoner, og last ned</button> -->
  </div>
  <script src="./dist/index.js"></script>
  <script>
    const player = document.getElementById('player-element'),
      dl = async () => {
        // if (player) {
        //   await player.addAnimation([
        //     {
        //       id: 'bulb',
        //       url: '/bulb.lottie'
        //     },
        //     {
        //       id: 'dev',
        //       url: '/dev.lottie'
        //     }
        //   ],
        //   'ny-test-av-kombo')
        // }
        if (dotLottiePlayer) {
          await dotLottiePlayer().addAnimation([
            {
              id: 'am',
              url: '/assets/am.lottie'
            },
            {
              id: 'bulb',
              url: '/assets/bulb.lottie'
            },
            {
              id: 'dev',
              url: '/assets/dev.lottie'
            }
          ],
            'test-av-standalone')
        }
      },
      cl = async () => {
        if (dotLottiePlayer) {
          let lottieJSON
          const res = await fetch('/assets/menuAnimation.json')
          if (res.ok) {
            lottieJSON = await res.json()
          }
          await dotLottiePlayer().convert(
            false,
            {
              animations: [
                { id: 'menuAnimation' }
              ]
            },
            [lottieJSON],
            'menuAnimation'
          )
        }
      }
    // if (player) {
    //   console.log(player.multiAnimationSettings)
    //   // player.setSpeed(4)
    //   // player.setMultiAnimationSettings(
    //   //   {
    //   //     autoplay: true,
    //   //   },
    //   //   {
    //   //     autoplay: true,
    //   //     loop: true,
    //   //     bounce: true
    //   //   }
    //   // )
    // }
  </script>
</body>
</html>